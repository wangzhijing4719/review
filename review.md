1、Web服务器的种类及优缺点，常用的有哪些
①目前主流的Web服务器有五种，Apache、Nginx、IIS、Lighttpd、Tomact，
②Apache是Apache软件基金会创建的一款Web服务器，具有模块化结构，但是基于多进程的HTTPserver,需要对每个用户请求创建一个子线程|进程来响应，当访问量较大时，会占用系统资源（主要是cpu和内存的资源），所以高并发的处理并不是Apache的强项。
③Nginx是一款轻量级的HTTPserver服务器，同时也是一款非常不错的反向代理，负载均衡服务器，Nginx以事件驱动，专为性能优化而开发，支持内核Poll模型，并且在高负载的情况下具有强大的稳定性，Nginx采用了分阶段资源分配技术，使的它的cpu使用率和内存占用率非常低，Nginx比Lighttpd稳定性要高。Nginx支持热部署，可以做到不间断的运行，而且可以在不间断服务的情况下进行版本升级。
④Lighttpd:是一款轻量级的Web服务器，占用内存小且CPU负荷低，是服务于静态内容的不错选择，从简单性能上来说Nginx比Lighttpd稳点性要高。
⑤IIS作为运行在Windows下Web服务器软件，可以对.NET、PHP进行解析，但是IIS只能运行在Windows操作系统上，而现在的绝大多数开源框架或软件最佳搭配环境为Linux/UNIX,这是由于IIS不具备开源软件低成本、易扩展等特点，从开源、投入、扩展、性能等方面考虑，IIS都不是优先考虑的对象。
⑥Tomcat服务器是一个免费的开源的Web应用服务器，属于轻量级的应用服务器，是开发和调试JSP程序的首选，Tomcat和IIS等其他WEB服务器一样，具有处理HTML页面的能力，但是处理静态页面能力较差。
⑦Lighttpd是个单进程模型的Web服务器，内存使用量非常小，Nginx在内存分配方面表现良好，它使用多线程进行处理请求，这使得多个线程之间可以共享内存资源，从而使得内存使用了大大减少，此外Nginx使用分段内存分配策略，按需进行分配及时释放，总体占用内存很小，可支持较大的并发连接，Apache在运行时使用较大的内存，是多进程模型，使用基于内存池策略的内存管理方法，这使得运行开始时便一次性申请大量的内存作为内存池，可以直接在内存池中直接获取到，因此不适合大并发量的情况。
⑧Nginx内部的HTTP状态跃迁是比较隐性的，它是通过一系列的handler赋值来实现的，如果要追踪一次HTTP请求的处理过程是比较麻烦的，而Lighttpd中是显性的状态跃迁，Nginx完全不支持动态库so,它的所有模块都是需要静态编译，且不能动态加载，要加载那些模块，模块按照怎样的顺序执行，都是在编译期configure指定的，如果要调整，也只能重新编译一遍，无法通过该配置来实现，而Lighttpd是支持动态库so,并且可以在配置文件中调整各个模块的先后顺序，在某些应用场景下，调整模块的先后顺序是很有用的，条件配置语法的灵活性,Lighttpd比Nginx好点，Lighttpd和Nginx都是基于epoll/kqueue/select全异步事件模型，可以维持大量的连接，但是Nginx是多线程模式，而Lighttpd是单线程模型。
⑨常用的Web服务器有Tomcat、Nginx、Apache
2、请讲讲负载均衡
①负载均衡分为两种一种是硬件负载均衡设备，另外一种是软件负载均衡，而从经济上来说，目前的公司主流的是倾向于软件的负载均衡来处理高请求、高并发，硬件负载均衡分为F5 BIG-IP，简称为本地流量管理器，可做4~7层负载均衡，F5 BIG-IP作为负载均衡器的作用：1）、F5 BIG-IP提供了12中算法将所有的流量均衡到各个服务器上，
而对用户而言它就是一台虚拟服务器，2）F5 BIG-IP是可以确认应用程序能否对请求返回对应的数据（当一台服务器死机了，它会去检查并表示该服务器的状态，并且不再向该服务器分发任务，而且死机的服务器一旦恢复正常，F5 BIG-IP会自动将该服务器加入分发的队列），3）F5 BIG-IP具有动态会话session保持功能，4）F5 BIG-IP的iRULES功能可以实现HTTP内容过滤，根据不同的域名、URL,将访问请求传送到不同的服务器。
LVS为目前阿里巴巴公司的主要的负载均衡设备，特点：具有很强的抗负载能力，配置简单，工作稳定，应用范围比较广，LVS的三种工作模式，它们分别是VS/NAT、VS/TUN、VS/DR
软件的负载均衡：Nginx/HaProxy,Nginx可以作为反向代理服务器，配置非常简单，主要是根据头部信息执行负载任务，可对http应用执行分流策略，Nginx对网络的依赖性较小，HaProxy是一个适用于高可用性环境的TCP/UDP反向代理和负载均衡开源软件，支持双机热备，支持虚拟主机，支持健康检查（通过patch可以支持ECV）,同时还提供直观的监控页面，可以清晰的实时的监控服务集群的运行状况，同时还支持Linux内核中的System EPoll 大幅提高了网络的I/O性能。
HaProxy的特点：1）、能够补充Nginx的特点，比如Session的保持，Cookie的引导工作。2）、同时还支持URL检测，如果后端的服务器出了问题，他可以通过URL检测，及时发现进行处理。3）、从效率上来讲，HAProxy会比Nginx有更出色的负载均衡速度。4）HaProxy可以对Mysql进行读操作，对后端的Mysql的节点检测和负载均衡。
可以从访问量上来说、资金预算上、技术储备上等综合考虑，从节约角度来说，前期可以使用Nginx或HaProxy单点负载均衡，后期各方面条件成熟以后再使用LVS或F5.
3、什么是缓存
缓存就是将程序上或系统上经常要调用的对象存在内存中，不必再去创建重复的实例，节约时间和空间，提高运行效率，缓存分为两个部分，文件缓存和数据缓存，而文件缓存指的是静态文件，这些可以通过CDN内容分发网络分发处理，从而提高网站的响应速度，还可以通过varnish(开源的HTTP网络加速器）或squid缓存服务器来处理，同样也可以提高响应速度，数据缓存是指对某些数据进行缓存，这些数据可以是经常要调用的数据对象等，常用的缓存数据的工具有redis,memcache.但是redis是具有持久化的。
客户端缓存：现在越来越大的数据（图片、flash、css、脚本）被嵌入到页面中，当我们访问它们的时候势必要做许多次的http请求，其实，我们可以通过设置网页头部报文中时间属性来缓存这些文件，缓存时间是通过头部报文来指定特定类型的文件在浏览器中缓存时间，这样在下次访问时，可以快速的访问，提高了页面响应的速度。
CDN加速：内容分发网络，为了解决Internet网络拥挤的状况，提高用户访问网站的响应速度，而一些公司选择自建CDN提高网络的响应速度，而中小型企业可以使用第三方的插件，如蓝汛，快网等。
静态文件缓存一般都是通过varnish（开源的HTTP加速器）和squid缓存服务器来实现，它在Web服务器前面添加了一层缓存，可以缓存图片和js格式的文件，如同redis的缓存机制，但是redis的缓存是分为2层，而静态文件缓存分为1层，如果文件在缓存中没有找到，就会去web服务器中去寻找。
redis的持久化方式有几种：两种，一种是快照，它是一种半持久耐用模式，不时的将数据集以异步方式从内存中以RDB格式写入磁盘，另一种是AOP,它是一种只追加的日志类型，Redis很大程度上弥补了Memcache这类key-value存储的不足，在部分场合可以对关系型数据库起到很好的补充作用，Redis也提供了Python、Ruby、Erlang、和PHP的API,且redis支持主从同步，读写分离。
4、数据存储：
      关系型数据库：以Oracle、mysql为代表
      key-value数据库，以Redis和Memcache为代表
      文档型数据库：以MongoDB为代表
      分布式的面向列的数据库，以HBase为代表
Mysql的存储引擎为MyISAM、InnoDB,其中InnoDB提供事物安全表，其他的存储引擎都是非事物安全表，MyISAM是mysql的默认存储引擎，支持事务，也不支持外键，但其访问速度快，InnoDB存储引擎具有提交、回滚、和崩溃恢复能力的事物安全，但是比起MyISAM存储引擎，InnoDB写的处理效率要慢些，并且会占用更多的磁盘空间以保留数据和索引。
内存型数据库的代表为Redis，MongoDB等，它强调高并发，但在事物安全方面不如关系型数据库，MongoDB以多线程的方式通信，主线程监听新的连接，连接后，启动新的线程进行数据的处理操作，在MongoDB中使用了操作系统底层提供的内存映射机制，即mmap,MongoDB调用了mmap把磁盘中数据映射到内存中的，所以必须有一个机制地刷数据到磁盘才能保证可靠性。
分布式数据库：HBase基于列式存储，存储高效且低IO,适用于大数据，同列数据具有很高的相似度，可以通过查询一列，从而大大降低了IO,会增加压缩效率。
Mysql分布式集群，理论上是具有很强大的存储能力，可用性和性能非常高，但是缺点就是维护成本特别高，Mysql Replication 即Mysql的主从复制，主服务器将sql记录到日志文件中，从服务器读取日志文件后将SQL应用到自身，数据库的分离即数据库的读写分离.
文件存储：中小型公司一般可以用NFS网络文件系统进行存储图片等静态文件，在大型平台上，一般使用的是HDFS（分布式文件系统）/FASTDFS(开源的轻量级的分布式文件系统）等，网络存储设备的基本模式都是这三种：SAN(存储区域网络）、DAS(直连式存储）、NAS(网络附属存储）。
